# 懒大猫戳一戳插件 - 使用文档

## 插件简介

懒大猫戳一戳插件是一个为 AstrBot 框架设计的趣味互动插件，集成了多种戳一戳功能、百度百科查询和指令菜单显示。通过丰富的配置选项，可以自定义各种交互行为。

**版本**: v9.9.9  
**作者**: 懒大猫

## 功能特性

### 核心功能
1. **主动戳一戳攻击** - 通过关键词触发，对指定用户进行戳一戳
2. **被戳反应** - 被戳时可选择回戳、回复或不响应
3. **跟戳** - 看到别人被戳时，机器人有一定概率跟着戳
4. **百度百科查询** - 快速查询百度百科词条
5. **指令菜单** - 显示所有可用指令

### 智能机制
- **冷却系统** - 防止滥用，保护用户体验
- **权重随机** - 被戳反应有多种可能性
- **管理员特权** - 管理员可享受无冷却、特殊响应等
- **每日限制** - 自动记录并限制每日戳一戳次数（200次上限）

## 使用方法

### 基础命令

#### 1. 戳一戳攻击
```
格式：[关键词]@[用户]
```

**可用关键词**：
- `攻击` - 轻量攻击（2-3次）
- `猛攻` - 中等攻击（3-4次）
- `戳` - 简单戳（1-3次）
- `猛揍` - 强力攻击（5-6次）
- `狂揍` - 强力攻击（5-6次）
- `揍他` - 强力攻击（5-6次）
- `肘击` - 超强攻击（7-8次）- **仅管理员可用**
- `撞大运` - 超大量攻击（16-24次）- **仅管理员可用**
- `揍死他` - 极限攻击（24-36次）- **仅管理员可用**
- 还有更多

**示例**：
```
攻击@张三
肘击@李四
```

#### 2. 百度百科查询
```
百度百科[查询词]
```

**示例**：
```
百度百科Happy Sugar Life
百度百科人工智能
```

#### 3. 指令菜单
```
/指令菜单
```
显示所有可用指令列表，已排序。

## 反应机制详解

### 被戳时的反应（机器人被戳）
当机器人被用户戳一戳时，会根据权重随机选择以下反应之一：

1. **回戳** (权重: 5) - 机器人回戳用户，次数随机（1-3次）
2. **随机回复** (权重: 5) - 发送随机回复语
3. **不响应** (权重: 2) - 不做任何反应

### 跟戳机制（看到别人被戳）
当A戳B时（B不是机器人），机器人有一定概率

## 特殊规则

### 管理员特权
- 管理员攻击无冷却时间
- 可使用的关键词更多（如"撞大运"、"揍死他"）
- 攻击管理员时有特殊反应
- 可设置指令菜单仅管理员可用

### 保护机制
1. **禁止自戳** - 普通用户不能命令机器人戳自己
2. **每日上限** - 每天最多戳200次，QQ官方设定
3. **冷却保护** - 每个用户独立计算冷却时间
4. **管理员保护** - 攻击管理员时有概率被反杀

## 日志系统

插件会自动记录每日戳一戳次数，日志文件位于：
```
插件目录/今日戳一戳总次数.log
```

**日志格式**：
```
当前日期：2024-01-01
今日戳一戳总次数： 42
```

每日0点自动重置计数。

## 注意事项

### 1. 平台限制
- 部分平台对戳一戳频率有限制，请合理设置冷却时间
- 每日200次上限是为了避免触发平台风控

### 2. 性能优化
- 冷却字典会自动清理过期数据
- 网络请求有超时机制
- 文件操作有异常处理
- 固定数据使用元组提升代码执行速度
## 高级自定义

如需修改回复语、关键词等，可直接编辑 `自定义配置.py` 中的以下列表：


# 自定义回复语列表
被戳回复语 = ("戳我干嘛呀", "怎么啦", "喵～", ...)
冷却话语 = ("我戳手疼了，晚点再玩嘛。", ...)
不要戳自己语句 = ("だめですよ！", ...)
更多列表...
